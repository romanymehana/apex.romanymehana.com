apex.builder={gApplicationId:null,gPageId:null},function(e,t,i){"use strict";var n,a,s,E,r,_,l,o,u,p,d,c;e.searchBox=function(e,i,n){var a=t("#"+e);function s(e){""!==e&&e!==n&&("function"==typeof i?i(e):apex.navigation.redirect(i+encodeURIComponent(e)))}a.keypress((function(e){13===e.keyCode&&(s(a.val()),e.preventDefault())})).focus((function(){this.value===n&&(this.value="")})).blur((function(){""===this.value&&(this.value=n)})).next().click((function(e){s(a.val()),e.preventDefault()}))},n=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)"),a="dark",s="dark-auto",E="standard",r="standard-auto",_="apex-theme-dark",l="apex-theme-dark-auto",o="apex-theme-standard",u="apex-theme-standard-auto",p="Theme-Standard",d="Theme-Dark",c='link[href*="/apex_ui/css/Theme-Dark"]',e.changeUIMode=function(p){var d,c,T=t("body"),A=t("body iframe"),S=p;T.hasClass(o)?c=E:T.hasClass(u)?c=r:T.hasClass(_)?c=a:T.hasClass(l)&&(c=s),e.setThemeCSSFile(t("html"),p),A.length>0&&e.setThemeCSSFile(A.contents(),p),p===a?(d=_,n.removeListener(e.autoDarkMode)):p===E?(d=o,n.removeListener(e.autoDarkMode)):p!==s&&p!==r||(e.isOSDarkMode()?(d=l,S=s):(d=u,S=r),n.addListener(e.autoDarkMode)),T.removeClass("apex-theme-standard apex-theme-dark apex-theme-standard-auto apex-theme-dark-auto").addClass(d),A.length>0&&A.contents().find("body").removeClass("apex-theme-standard apex-theme-dark apex-theme-standard-auto apex-theme-dark-auto").addClass(d),c!==S&&function(e){var t="4050"!==i.APP_ID?"4000":i.APP_ID;apex.server.process("ajax_set_ui_mode",{p_flow_id:t,p_flow_step_id:0,x01:e},{success:function(){},error:function(){}})}(S),T.trigger("apex-builder-theme-changed")},e.setThemeCSSFile=function(e,t){var i,n=e.find('link[href*="/apex_ui/css/Theme-Standard"]'),_=e.find(c);(t===a||t===s)&&n.length>0?(i=n.attr("href"),n.attr("href",i.replace(p,d))):(t===E||t===r)&&_.length>0&&(i=_.attr("href"),_.attr("href",i.replace(d,p)))},e.isOSDarkMode=function(){return n&&n.matches},e.isBuilderDarkMode=function(){return(t("body iframe").length>0?t("body iframe").contents():t("html")).find(c).length>0},e.autoDarkMode=function(){var t=e.isOSDarkMode()?s:r;e.changeUIMode(t)},e.initUIAppearance=function(){var i=t("body");(i.hasClass(u)||i.hasClass(l))&&e.autoDarkMode()},t((function(){e.initUIAppearance(),t("button.js-ui-mode-btn").on("click",(function(){t("button.js-ui-mode-btn").removeClass("is-on is-off").addClass("is-off").attr("aria-current","false");var i=t(this),n=i.data("mode");i.removeClass("is-off").addClass("is-on").attr("aria-current","true"),"auto"===n?e.autoDarkMode():n===E?e.changeUIMode(E):n===a&&e.changeUIMode(a)}))}));try{var T=!1,A=!1,S=!1;window.uR=function(){T&&(T.className="htmldbButtonList",T===$x("ALL")&&(T=$x("ALL")))},window.uF=function(){var e=$x("BB")?$x("BB"):$x("ContentArea");e=e||$x("ContentBody");try{for(var t=$x_ByClass("rc-title",e,"DIV"),i=0,n=t.length;i<n;i++)$x_Show($x_UpTill(t[i],"","rounded-corner-region"));window.uR(),scroll(0,0)}catch(e){scroll(0,0)}},window.qF=function(e,t){var i=$x("BB")?$x("BB"):$x("ContentArea");i=i||$x("ContentBody");var n="ORA_WWV_ATTRIBUTE_PAGE",a="htmldbButtonListCurrent";try{var s=t.substr(1);if("ALL"===s||"DEFAULTALL"===s)e.className=a,"DEFAULTALL"!==s&&apex.storage.setCookie(n,$x("pFlowStepId").value+","+t),window.uF(),$x_Show(["BB","ContentArea","ContentBody"]);else{$x("ALL")&&($x("ALL").className="htmldbButtonList2"),window.uR(),e.className=a,T=e,S=$x_ByClass("rc-title",i,"DIV");for(var E=0;E<S.length;E++)if($x_Hide($x_UpTill(S[E],"","rounded-corner-region")),S[E].getElementsByTagName("A")){var r=S[E].getElementsByTagName("A")[0];r&&r.name&&r.name===s&&(A=r)}A&&$x_Show($x_UpTill(A,"","rounded-corner-region")),apex.storage.setCookie(n,$x("pFlowStepId").value+","+t),$x_Show(["BB","ContentArea","ContentBody"])}}catch(e){window.uF(),$x_Show(["BB","ContentArea","ContentBody"])}}}catch(e){}e.dynamicAttributes={gCurrentSelection:{pluginType:null,pluginName:null},gAjaxIdentifier:null,getAttributeSelector:function(e,t,i){return"#"+e+"ATTRIBUTE_"+(t<10?"0":"")+t+i},getAttributesSelector:function(t,i){for(var n="",a=1;a<=25;a++)a>1&&(n+=","),n+=e.dynamicAttributes.getAttributeSelector(t,a,i);return n},hide:function(i){t(e.dynamicAttributes.getAttributesSelector(i,"_CONTAINER")).hide(),t("#"+i+"FORMAT_MASK_DATE,#"+i+"FORMAT_MASK_NUMBER,#"+i+"IS_REQUIRED").each((function(){apex.item(this).hide()}))},show:function(n,a,s,E,r,_,l,o,u,p){var d=t(e.dynamicAttributes.getAttributesSelector(s,"")),c=t(e.dynamicAttributes.getAttributesSelector(s,"_CONTAINER")),T=c.filter(":last").next(),A=c.filter(":last").parent(),S=function(e,t,i){return'<table class="lov" cellspacing="0" cellpadding="0" border="0" role="presentation"><tr><td><input id="#ID#" name="#NAME#" type="text" maxlength="#MAX_LEN#" size="'+t+'" /></td><td><a class="a-Button a-Button--popupLOV" href="'+i+'"><span class="a-Icon icon-popup-lov"><span class="visuallyhidden">'+l+e.label+"</span></span></a></td></tr></table>"};e.dynamicAttributes.hide(s),E[a]&&E[a].attributeList.length>0&&t.each(E[a].attributeSortList,(function(i,n){var a=t(e.dynamicAttributes.getAttributeSelector(s,n,"_CONTAINER"));0===T.length?A.append(a):T.before(a)})),r||d.each((function(){t(this).closest("a-Form-inputContainer").empty().html('<input type="hidden" id="'+this.id+'" name="'+this.name+'" value="">')})),E[a]&&(E[a].attributeList.length>0||/FORMAT_MASK/.test(E[a].standardAttributes)||/SESSION_STATE/.test(E[a].standardAttributes))?(e.dynamicAttributes.gCurrentSelection={pluginType:n,pluginName:a},t.each(E[a].attributeList,(function(n,a){var E;function _(e,i,n,a){var s="",E=!1;return t.each(e,(function(e,t){s+=i.replace(/#SEQ#/g,e).replace(/#R#/g,t.r).replace(/#D#/g,t.d),t.r===n?(E=!0,s=s.replace(/#SELECTED#/g,a)):s=s.replace(/#SELECTED#/g,"")})),n&&!E&&(s+=i.replace(/#SEQ#/g,9999).replace(/#R#/g,c).replace(/#D#/g,c+"*")),s}if(a){var l,u=t(e.dynamicAttributes.getAttributeSelector(s,n+1,"")),p=u.attr("id"),d=u.attr("name"),c=u.val(),T=t("#"+p+"_CONTAINER .a-Form-labelContainer"),A=T.find("label"),I=T.find(".a-Form-required"),N=T.find(".u-VisuallyHidden"),h=t("#"+p+"_CONTAINER .a-Form-inputContainer").find(".a-Button--helpButton");A.text(a.label).append(N),h.attr("title",o+a.label).attr("aria-label",o+a.label),a.isRequired&&"SELECT LIST"!==a.type&&"CHECKBOX"!==a.type?(A.removeClass("aOptional").addClass("aRequired"),I.show(),N.show()):(A.removeClass("aRequired").addClass("aOptional"),I.hide(),N.hide()),r?!c&&a.defaultValue&&(c=a.defaultValue):c=a.defaultValue,"TEXTAREA"===a.type||"SQL"===a.type||"PLSQL"===a.type||"PLSQL EXPRESSION"===a.type||"PLSQL EXPRESSION BOOLEAN"===a.type||"PLSQL FUNCTION BODY"===a.type||"PLSQL FUNCTION BODY BOOLEAN"===a.type||"HTML"===a.type||"XML"===a.type||"JAVASCRIPT"===a.type?l='<div class="apex-item-group apex-item-group--textarea"><textarea id="#ID#" name="#NAME#" class="textarea apex-item-textarea" data-resizable="true" cols="#DISPLAY_LEN#" maxlength="#MAX_LEN#" rows="'+("TEXTAREA"===a.type?"4":"8")+'"></textarea></div>':"PAGE NUMBER"===a.type||"PAGE NUMBERS"===a.type||"AUTHORIZATION GROUPS"===a.type?(E=/S$/.test(a.type),l=S(a,E?"50":"30","javascript:apex.navigation.popup({url:'wwv_flow.show?p_flow_id=#APP_ID#&p_flow_step_id=#APP_PAGE_ID#&p_instance=#APP_SESSION#&p_request=NATIVE%253D#AJAX_IDENTIFIER#&x01="+a.type+"&x02=#ID#&"+apex.util.getContextString()+("AUTHORIZATION GROUPS"===a.type?"&x03=' + $v('"+s+"ATTRIBUTE_02')":"'")+",name:'winLovList',width:400,height:450}); void(0);")):"PAGE ITEM"===a.type||"PAGE ITEMS"===a.type?(E=/S$/.test(a.type),l=S(a,E?"50":"30","javascript:popUp('f?p=4000:246:#APP_SESSION#::NO:RP,246:F4000_P246_CALLING_FIELD,P246_APPEND,F4000_P246_PAGE:#ID#,"+(E?"Y":"N")+",#EDIT_PAGE_ID#');")):"CHECKBOX"===a.type||"SELECT LIST"===a.type?(a.isRequired&&!c&&a.valueList.length>0&&(c=a.valueList[0].r),l='<select id="#ID#" name="#NAME#" class="selectlist" size="1">'+_(a.valueList,'<option value="#R#" #SELECTED#>#D#</option>',c,' selected="selected"')+"</select>"):l="CHECKBOXES"===a.type?'<fieldset id="#ID#_fieldset" class="checkbox_group" tabindex="-1"><input id="#ID#" name="#NAME#" type="hidden">'+_(a.valueList,'<input id="#ID#_#SEQ#" type="checkbox" value="#R#" /><label for="#ID#_#SEQ#">#D#</label><br>')+"</fieldset>":"COLOR"===a.type?'<input id="#ID#" name="#NAME#" type="text" maxlength="30" size="10" />':"ICON"===a.type?'<input id="#ID#" name="#NAME#" type="text" maxlength="255" size="30" />':'<input id="#ID#" name="#NAME#" type="text" maxlength="#MAX_LEN#" size="#DISPLAY_LEN#" />',u.val(null).closest("#"+p+"_wrapper").html(l.replace(/#ID#/g,p).replace(/#NAME#/g,d).replace(/#DISPLAY_LEN#/g,a.displayLen).replace(/#MAX_LEN#/g,a.maxLen).replace(/#APP_ID#/g,i.APP_ID).replace(/#APP_PAGE_ID#/g,i.APP_PAGE_ID).replace(/#APP_SESSION#/g,i.APP_SESSION).replace(/#EDIT_PAGE_ID#/g,e.gPageId).replace(/#IMAGE_PREFIX#/g,i.APEX_FILES).replace(/#AJAX_IDENTIFIER#/g,e.dynamicAttributes.gAjaxIdentifier)),"TEXTAREA"===a.type||"SQL"===a.type||"PLSQL"===a.type||"PLSQL EXPRESSION"===a.type||"PLSQL FUNCTION BODY"===a.type||"JAVASCRIPT"===a.type?apex.item.attach(t("#"+p+"_CONTAINER")):"CHECKBOXES"===a.type&&t("#"+p).siblings("input[type=checkbox]").click((function(){var e=t(this).siblings("input[type=hidden]"),i=""===e.val()?[]:e.val().split(":");this.checked?i.push(this.value):i.splice(i.indexOf(this.value),1),e.val(i.join(":")).change()})),t("#"+p).val(c),"CHECKBOXES"===a.type&&t.each(c.split(":"),(function(e,i){t("#"+p).siblings('input[type=checkbox][value="'+i+'"]').attr("checked",!0)}))}})),t.each(E[a].attributeList,(function(i,n){n&&(e.dynamicAttributes.showHideAttribute(s,i,E[a].attributeList,u,p),n.dependingOnAttrSeq&&n.dependingOnCondType&&t("#"+s+"ATTRIBUTE_"+n.dependingOnAttrSeq).change((function(){e.dynamicAttributes.showHideAttribute(s,i,E[a].attributeList,u,p)})))})),/FORMAT_MASK_DATE/.test(E[a].standardAttributes)?(apex.item(s+"FORMAT_MASK_DATE").show(),apex.item(s+"FORMAT_MASK").hide()):/FORMAT_MASK_NUMBER/.test(E[a].standardAttributes)?(apex.item(s+"FORMAT_MASK_NUMBER").show(),apex.item(s+"FORMAT_MASK").hide()):apex.item(s+"FORMAT_MASK").show(),/SESSION_STATE/.test(E[a].standardAttributes)&&apex.item(s+"IS_REQUIRED").show(),_&&(E[a].attributeList.length>0||/FORMAT_MASK/.test(E[a].standardAttributes)||/SESSION_STATE/.test(E[a].standardAttributes)?$x_Show(_):$x_Hide(_))):(e.dynamicAttributes.gCurrentSelection={pluginType:null,pluginName:null},"ITEM TYPE"===n&&apex.item(s+"FORMAT_MASK").show(),_&&$x_Hide(_));var I=[],N=null,h=null,O=[],L=[];if("4446"!==i.APP_PAGE_ID)switch(n){case"ITEM TYPE":t.each(["LIST_OF_VALUES","LABEL_ALIGNMENT","PLACEHOLDER","FIELD_TEMPLATE","CSIZE","CHEIGHT","TAG_ATTRIBUTES2","LOV_DISPLAY_NULL","LOV_NULL_TEXT","LOV_CASCADE_PARENT_ITEMS","AJAX_ITEMS_TO_SUBMIT","AJAX_OPTIMIZE_REFRESH","STATIC_LOV_POPUP","DYNAMIC_LOV_POPUP","ENCRYPT_SESSION_STATE_YN","ESCAPE_ON_HTTP_OUTPUT"],(function(){apex.item(s+this).hide()})),t("#GRID,#LABEL,#ELEMENT,#VALIDATION,#DEFAULT,#SOURCE,#LOV,#QP,#READONLY,#READONLY,#HELP,#HELP").hide(),E[a]?(I=E[a].standardAttributes.split(":"),N=E[a].sqlMinColumnCount,h=E[a].sqlMaxColumnCount):(I=["VISIBLE","SOURCE","SESSION_STATE","ELEMENT","WIDTH","HEIGHT","ELEMENT_OPTION","QUICKPICK","READONLY","ENCRYPT","LOV","LOV_DISPLAY_NULL"],N=2,h=2),I.includes("VISIBLE")&&(L.push("#GRID"),O.push("FIELD_TEMPLATE"),I.includes("WIDTH")&&O.push("CSIZE"),I.includes("HEIGHT")&&O.push("CHEIGHT"),L.push("#LABEL"),L.push("#HELP"),O.push("LABEL_ALIGNMENT"),I.includes("PLACEHOLDER")&&O.push("PLACEHOLDER"),I.includes("ELEMENT_OPTION")&&O.push("TAG_ATTRIBUTES2"),I.includes("LOV")&&(O.push("LIST_OF_VALUES"),L.push("#LOV"),N<=2&&h>=2&&(O.push("STATIC_LOV_POPUP"),O.push("DYNAMIC_LOV_POPUP")),e.dynamicAttributes.setSqlExamples(n,a),I.includes("LOV_DISPLAY_NULL")&&(O.push("LOV_DISPLAY_NULL"),"YES"===$v(s+"LOV_DISPLAY_NULL")&&O.push("LOV_NULL_TEXT")),I.includes("CASCADING_LOV")&&(O.push("LOV_CASCADE_PARENT_ITEMS"),apex.item(s+"LOV_CASCADE_PARENT_ITEMS").isEmpty()||(O.push("AJAX_ITEMS_TO_SUBMIT"),O.push("AJAX_OPTIMIZE_REFRESH")))),I.includes("QUICKPICK")&&L.push("#QP"),I.includes("READONLY")&&L.push("#READONLY"),I.includes("ESCAPE_OUTPUT")&&O.push("ESCAPE_ON_HTTP_OUTPUT")),I.includes("ELEMENT")&&L.push("#ELEMENT"),I.includes("SOURCE")&&(L.push("#SOURCE"),L.push("#DEFAULT")),I.includes("ENCRYPT")&&O.push("ENCRYPT_SESSION_STATE_YN"),"NATIVE_STOP_AND_START_HTML_TABLE"===a&&(L.push("#LABEL"),L.push("#HELP")),t.each(O,(function(){apex.item(s+this).show()})),t(L.join()).show();break;case"REGION TYPE":t.each(["AJAX_ITEMS_TO_SUBMIT","ESCAPE_ON_HTTP_OUTPUT"],(function(){apex.item(s+this).hide()})),t("#SOURCE,#SQL_EXAMPLES").hide(),((I=E[a]?E[a].standardAttributes.split(":"):["SOURCE_PLAIN"]).includes("SOURCE_PLAIN")||I.includes("SOURCE_SQL"))&&(L.push("#SOURCE"),I.includes("SOURCE_SQL")&&(e.dynamicAttributes.setSqlExamples(n,a),L.push("#SQL_EXAMPLES"))),(I.includes("AJAX_ITEMS_TO_SUBMIT")||["NATIVE_IR","NATIVE_SQL_REPORT","NATIVE_FNC_REPORT","NATIVE_TABFORM"].includes(a))&&O.push("AJAX_ITEMS_TO_SUBMIT"),I.includes("ESCAPE_OUTPUT")&&O.push("ESCAPE_ON_HTTP_OUTPUT"),t.each(O,(function(){apex.item(s+this).show()})),L.length>0&&t(L.join()).show();break;case"DYNAMIC ACTION":if(apex.item(s+"STOP_EXECUTION_ON_ERROR").hide(),apex.item(s+"WAIT_FOR_RESULT").hide(),$x_Hide("AFFECTED_ELEMENTS"),!a)return;(I=E[a].standardAttributes.split(":")).includes("STOP_EXECUTION_ON_ERROR")&&apex.item(s+"STOP_EXECUTION_ON_ERROR").show(),I.includes("WAIT_FOR_RESULT")&&apex.item(s+"WAIT_FOR_RESULT").show(),r||(I.includes("ONLOAD")?$s(s+"EXECUTE_ON_PAGE_INIT","Y"):$s(s+"EXECUTE_ON_PAGE_INIT",null));var R=$v(s+"AFFECTED_ELEMENTS_TYPE");t("#"+s+'AFFECTED_ELEMENTS_TYPE option[value!=""]').remove();var C=[];I.includes("ITEM")&&C.push("ITEM"),I.includes("BUTTON")&&C.push("BUTTON"),I.includes("REGION")&&C.push("REGION"),I.includes("JQUERY_SELECTOR")&&C.push("JQUERY_SELECTOR"),I.includes("TRIGGERING_ELEMENT")&&C.push("TRIGGERING_ELEMENT"),I.includes("EVENT_SOURCE")&&C.push("EVENT_SOURCE"),I.includes("JAVASCRIPT_EXPRESSION")&&(C.push("DOM_OBJECT"),C.push("JAVASCRIPT_EXPRESSION")),0===C.length?($x_Hide("AFFECTED_ELEMENTS"),apex.item(s+"AFFECTED_ELEMENTS_TYPE").hide(),$s(s+"AFFECTED_ELEMENTS_TYPE","")):($x_Show("AFFECTED_ELEMENTS"),apex.item(s+"AFFECTED_ELEMENTS_TYPE").show(),t.each(C,(function(){t('#ELEMENTS_TYPE_CLONE option[value="'+this+'"]').clone().appendTo("#"+s+"AFFECTED_ELEMENTS_TYPE")})),$s(s+"AFFECTED_ELEMENTS_TYPE",R));break;case"AUTHENTICATION TYPE":a&&E[a].standardAttributes.split(":").includes("INVALID_SESSION")?t("#INVALID_SESSION_ATTRIBUTES").show():t("#INVALID_SESSION_ATTRIBUTES").hide()}},showHideAttribute:function(e,i,n,a,s){var E=e+"ATTRIBUTE_",r=E+(i<9?"0":"")+(i+1);!function e(i){var r,_,l,o=!a||n[i].showInWizard;if(o&&!0===n[i].isExcluded&&(o=!1),o&&s&&n[i].supportedUiTypes&&(o=n[i].supportedUiTypes.split(":").includes(s)),o&&n[i].dependingOnAttrSeq&&n[i].dependingOnCondType)if(o=e(parseInt(n[i].dependingOnAttrSeq,10)-1))switch(r=$v(E+n[i].dependingOnAttrSeq),_=n[i].dependingOnExpr,(l="CHECKBOXES"===n[parseInt(n[i].dependingOnAttrSeq,10)-1].type)&&(r=""===r?[]:r.split(":")),n[i].dependingOnCondType){case"EQUALS":o=l?r.includes(_):r===_;break;case"NOT_EQUALS":o=l?!r.includes(_):r!==_;break;case"IN_LIST":_=_.split(","),l?(o=!1,t.each(r,(function(e,t){if(o=_.includes(t))return!1}))):o=_.includes(r);break;case"NOT_IN_LIST":_=_.split(","),l?(o=r.length>0,t.each(r,(function(e,t){if(!(o=!_.includes(t)))return!1}))):o=!_.includes(r)&&""!==r;break;case"NULL":o=l?0===r.length:!r;break;case"NOT_NULL":o=l?r.length>0:r}else!1===n[i].dependingOnAlwaysEval&&(o=!0);return o}(i)?apex.item(r).hide():apex.item(r).show(),t("#"+r).change()},help:function(t,n){var a="wwv_flow_item_help.show_plugin_attribute_help?p_application_id="+(t||i.APP_ID)+"&p_builder_page_id="+i.APP_PAGE_ID+"&p_session_id="+i.APP_SESSION+"&p_plugin_type="+e.dynamicAttributes.gCurrentSelection.pluginType+"&p_plugin_name="+e.dynamicAttributes.gCurrentSelection.pluginName+"&p_attribute_scope="+("4446"===i.APP_PAGE_ID?"APPLICATION":"COMPONENT")+"&p_attribute_sequence="+n.substr(n.length-2);apex.theme.popupFieldHelp("","",a)},setSqlExamples:function(e,n){var a={p_request:"APPLICATION_PROCESS=get_plugin_sql_examples",p_flow_id:i.APP_ID,p_flow_step_id:i.APP_PAGE_ID,p_instance:i.APP_SESSION,x01:e,x02:n};t.ajax({mode:"abort",port:"setSqlExamples",type:"post",url:"wwv_flow.show&"+apex.util.getContextString(),data:a,success:function(e){t("#bodySQL_EXAMPLES").html(e)}})}},t((function(){t(document.body).on("click",".js-dynamicItemHelp",(function(){var n=t(this).attr("data-itemname"),a=t(this).attr("data-appid")||i.APP_ID;n&&a&&e.dynamicAttributes.help(a,n)})).on("keydown",(function(n){112===n.which&&n.altKey&&t(n.target).parents().each((function(n){var a,s,E;return!(n>4)&&((a=t(this).find(".js-dynamicItemHelp")).length?(s=a.attr("data-itemname"),E=a.attr("data-appid")||i.APP_ID,s&&E&&e.dynamicAttributes.help(E,s),!1):void 0)}))}))})),e.plugin={initConditionItems:function(e,i,n,a,s,E,r,_){function l(){var l=$v(e),o=["NEVER","ALWAYS","BROWSER_IS_NSCP","BROWSER_IS_MSIE","BROWSER_IS_MSIE_OR_NSCP","BROWSER_IS_OTHER","WHEN_ANY_ITEM_IN_CURRENT_PAGE_HAS_CHANGED","WHEN_THIS_PAGE_SUBMITTED","WHEN_THIS_PAGE_NOT_SUBMITTED","PAGE_IS_IN_PRINTER_FRIENDLY_MODE","PAGE_IS_NOT_IN_PRINTER_FRIENDLY_MODE","USER_IS_NOT_PUBLIC_USER","USER_IS_PUBLIC_USER","DISPLAYING_INLINE_VALIDATION_ERRORS","NOT_DISPLAYING_INLINE_VALIDATION_ERRORS","MAX_ROWS_LT_ROWS_FETCHED","MIN_ROW_GT_THAN_ONE","IS_READ_ONLY","IS_NOT_READ_ONLY"];o.includes(l)||l===r||""===l||"%null%"===l?(apex.item(i).hide(),apex.item(n).hide(),apex.item(a).hide()):["EXISTS","NOT_EXISTS","EXPRESSION","PLSQL_ERROR","FUNCTION_BODY","FUNC_BODY_RETURNING_BOOLEAN","FUNC_BODY_RETURNING_ERR_TEXT","ITEM_IS_NULL","ITEM_IS_NOT_NULL","ITEM_NOT_NULL","ITEM_IS_ZERO","ITEM_IS_NOT_ZERO","ITEM_IS_NULL_OR_ZERO","ITEM_NOT_NULL_OR_ZERO","ITEM_CONTAINS_NO_SPACES","ITEM_IS_NUMERIC","ITEM_IS_NOT_NUMERIC","ITEM_IS_ALPHANUMERIC","REQUEST_EQUALS_CONDITION","REQUEST_NOT_EQUAL_CONDITION","REQUEST_IN_CONDITION","REQUEST_NOT_IN_CONDITION","CURRENT_PAGE_EQUALS_CONDITION","CURRENT_PAGE_NOT_EQUAL_CONDITION","CURRENT_PAGE_IN_CONDITION","CURRENT_PAGE_NOT_IN_CONDITION","CURRENT_LANG_IN_COND1","CURRENT_LANG_NOT_IN_COND1","CURRENT_LANG_NOT_EQ_COND1","CURRENT_LANG_EQ_COND1","DAD_NAME_EQ_CONDITION","DAD_NAME_NOT_EQ_CONDITION","SERVER_NAME_EQ_CONDITION","SERVER_NAME_NOT_EQ_CONDITION","HTTP_HOST_EQ_CONDITION","HTTP_HOST_NOT_EQ_CONDITION","TO_UPPER_CASE","TO_LOWER_CASE","TRIM","LTRIM","RTRIM","SINGLE_WHITESPACES","REGULAR_EXPRESSION","SQL_QUERY_SINGLE_VALUE","SQL_QUERY_SEMI_COLON"].includes(l)?(["EXPRESSION","FUNCTION_BODY","FUNC_BODY_RETURNING_BOOLEAN","FUNC_BODY_RETURNING_ERR_TEXT"].includes(l)?(apex.item(i).show(),"EXPRESSION"===l?t("#"+i+" option[value=SQL]").show():("SQL"===apex.item(i).getValue()&&apex.item(i).setValue("PLSQL"),t("#"+i+" option[value=SQL]").hide())):apex.item(i).hide(),apex.item(n).show(),apex.item(a).hide()):(apex.item(n).show(),apex.item(a).show(),apex.item(i).hide()),""!==s&&(["EXISTS","NOT_EXISTS","EXPRESSION","PLSQL_ERROR","FUNCTION_BODY","FUNC_BODY_RETURNING_BOOLEAN","FUNC_BODY_RETURNING_ERR_TEXT"].includes(l)?apex.item(s).show():apex.item(s).hide()),""!==E&&(""===l||l===r||"%null%"===l||"NEVER"===l?apex.item(E).hide():apex.item(E).show()),""!==_&&(o.includes(l)||l===r||""===l||"%null%"===l?apex.item(_).hide():apex.item(_).show())}t("#"+e).change((function(){l()})),setTimeout((function(){l()}),1)},initCodeLanguageItem:function(e,i){function n(){var n=$v(i);["EXPRESSION","FUNCTION_BODY","FUNC_BODY_RETURNING_BOOLEAN","FUNC_BODY_RETURNING_ERR_TEXT"].includes(n)?(apex.item(e).show(),"EXPRESSION"===n?t("#"+e+" option[value=SQL]").show():("SQL"===apex.item(e).getValue()&&apex.item(e).setValue("PLSQL"),t("#"+e+" option[value=SQL]").hide())):apex.item(e).hide()}t("#"+i).change((function(){n()})),setTimeout((function(){n()}),1)},getData:function(){var e,n=this.action.attribute01,a=new window.htmldb_Get(null,i.APP_ID,"PLUGIN="+this.action.ajaxIdentifier,i.APP_PAGE_ID);t.each(n.split(","),(function(){var e=t("#"+this)[0];e&&a.add(this,$v(e))})),(e=a.get())&&this.affectedElements.each((function(){$s(this,e)}))},groupSelectList:function(e,i){var n=t.extend({nullValue:""},i);t(e).each((function(){apex.item.create(this.id,{nullValue:n.nullValue})}))},uiComponentsSelectList:function(e,i){var n=t.extend({nullValue:""},i),a=t("#"+e),s=a.html();apex.item.create(e,{nullValue:n.nullValue}),a.find("[data-supported=false]:not([value='"+$v(e)+"'])").remove(),a.change((function(){"$UNSUPPORTED$"===$v(e)&&(a.empty().append(s),a.find("option[value='$UNSUPPORTED$']").remove())}))},wizardSelection:function(e,i){var n=t("#"+e+"_SELECTION",apex.gPageContext$),a=t("#"+e,apex.gPageContext$);function s(){n.empty()}function E(e){var t;n.append(e.entries),n.iconList("refresh"),n.iconList("setSelection",n.children().first()),t=n.iconList("getSelectionValues"),a.val(t[0]).trigger("change")}function r(){apex.widget.util.cascadingLov(n,i.ajaxIdentifier,{pageItems:t(i.pageItemsToSubmit,apex.gPageContext$)},{optimizeRefresh:i.optimizeRefresh,dependingOn:t(i.dependingOnSelector,apex.gPageContext$),success:E,clear:s})}n.iconList({navigation:!0,label:".a-IconList-iconName",activate:function(e,t){a.val(t.values[0]).trigger("change"),i.submitPage&&apex.submit("NEXT"),e.preventDefault()},selectionChange:function(){var e=t(this).iconList("getSelectionValues");a.val(e[0]).trigger("change")}}),apex.item.create(e,{setValue:function(e){e&&n.iconList("setSelection",t("[data-value="+e+"]"))},nullValue:"",setFocusTo:function(){return n.iconList("focus"),{focus:function(){}}}}),i.dependingOnSelector&&t(i.dependingOnSelector,apex.gPageContext$).on("apexbeforerefresh",s).change(r),n.on("apexrefresh",r)},templateOptions:function(e){var i=t("#"+e),n=t("#"+e+"_HIDDEN"),a=t("#"+e+"_DEFAULT"),s=t("#"+e+"_CONTAINER select, #"+e+"_CONTAINER input[type=checkbox]"),E=[];function r(){var i="",r=!1;a=t("#"+e+"_DEFAULT"),E=a.val().split(":"),t("div#"+e+"_CONTAINER input[type=checkbox]").each((function(e){0===e&&(r="#DEFAULT#"===$v(this.id)),E.includes(t("#"+this.id).val())&&(t(this).prop("disabled",r),r?(t(this).prop("checked",!0),t(this).parent().addClass("is-disabled")):t(this).parent().removeClass("is-disabled"))})),s.each((function(){t(this).is(":enabled")&&(i+=$v(this.id).length>0?":"+$v(this.id):"")})),n.val(i.substring(1))}apex.item.create(e,{setFocusTo:t("input,select",i).first()}),i.change(r),t(document).on("apexbeforepagesubmit",r),t("#"+e+"_ADVANCED").collapsible({collapsed:!1}),i.on("apexafterrefresh",(function(){s=t("#"+e+"_CONTAINER select, #"+e+"_CONTAINER input[type=checkbox]"),t("#"+e+"_ADVANCED").collapsible({collapsed:!1})}))}},e.filePreview={trim:function(e,t){var i,n=e;return n.substr(0,1)===t&&(n=n.substring(1)),i=n.length,n.substr(i-1,1)===t&&(n=n.substring(0,i-1)),n},showPreview:function(e,t,i,n){if(e.data("previewLines")){var a,s,E=this.getLines(e.data("previewLines"),t,"\n",n),r=[],_=[],l="",o="";for(a=0;a<25;a++)o+=" ";for(a=0;a<E.length;a++){for(;E[a].charCodeAt(E[a].length-1)<32;)E[a]=E[a].substr(0,E[a].length-1);r.push(this.getFields(E[a],i,n))}for(a=0;a<r.length;a++)for(s=0;s<r[a].length;s++)(!_[s]||r[a][s].length>_[s])&&(_[s]=r[a][s].length,_[s]>25&&(_[s]=25));for(a=0;a<r.length;a++){for(s=0;s<r[a].length;s++)i&&""!==i?r[a][s].length>25?l=l+(r[a][s]+o).substring(0,_[s]-3)+"...":l+=(r[a][s]+o).substring(0,_[s]):l+=r[a][s],s<r[a].length-1&&(l+="|");l+="\n"}return l}},getFields:function(e,t,i){var n,a=this.getLines(e,9999,"\\t"===t?String.fromCharCode(9):t,i);for(n=0;n<a.length;n++)a[n]=a[n].replace(/^\s+|\s+$/g,""),i&&(a[n]=this.trim(a[n],i));return a},getLines:function(e,t,i,n){for(var a=0,s=0,E=t,r=[];E>0;){if(i&&""!==i?a=e.indexOf(i,s):(E=0,a=e.length),-1===a)E=0,a=e.length;else{for(;n&&(e.substring(s,a).match(new RegExp(n,"g"))||[]).length%2==1;)a=e.indexOf(i,a+1);-1===a&&(a=e.length,E=0)}r.push(e.substring(s,a)),E-=1,s=a+=1}return r},getAsciiLines:function(e,i,n,a,s,E){var r=e.files[0],_=new FileReader,l=r.slice(0,5120),o=this;_.onloadend=function(n){n.target.readyState===FileReader.DONE&&(t(e).data("previewLines",n.target.result),i.val(o.showPreview(t(e),5,a,s)))};try{_.readAsText(l,E||"utf-8")}catch(e){i.val(apex.lang.formatMessage("DATA_LOAD.NO_PREVIEW"))}}},e.treeUtil={find:function(e,t,i){var n=e.treeView("find",{depth:-1,findAll:!0,match:function(e){return e.label.toLowerCase().indexOf(t.toLowerCase())>=0}});n.addClass(i),n.length>0&&e.treeView("expandAll"),e.treeView("focus")},search:function(e,i,n){t("."+apex.util.escapeCSS(n),"#"+apex.util.escapeCSS(i)).removeClass(n),""!==e&&this.find(apex.region(i).widget(),e,n)},focus:function(e){apex.region(e).widget().treeView("focus")},selectRoot:function(e){apex.region(e).widget().treeView("setSelection",t("[aria-level='1']",t("#"+apex.util.escapeCSS(e))).parent()),this.focus(e)},traverse:function(e){var t;if(e.children)for(t=0;t<e.children.length;t++)this.traverse(e.children[t]);else e.children=[]}},e.breadcrumb={showParentTree:function(e,t,i){var n,a=[];e.length>0&&(e.forEach((function(e){a.push(e.id)})),n=a.join(":"),$s(t,n),apex.region(i).refresh(),apex.theme.openRegion(i))},moveNodes:function(i,n){apex.theme.closeRegion(i);var a=apex.region(i).widget().treeView("getSelectedNodes")[0].id,s=t("."+("id-"+a),t("#"+apex.util.escapeCSS(n))).parent(),E=apex.region(n).widget(),r=E.treeView("getSelection");E.treeView("moveNodes",s,0,r),e.treeUtil.focus(n)},validateMove:function(e,i,n,a){var s=[],E={},r=[];i.forEach((function(e){s.push(e.id)})),E.parentId=e.id,E.children=s,r.push(JSON.stringify(E));var _,l=apex.util.showSpinner(t("#bcEntries"));(_=apex.server.process("SAVE_CHANGES",{f01:r})).done((function(e){apex.message.showPageSuccess(e.msg)})),_.always((function(){l.remove()})),a(!0)}}}(apex.builder,apex.jQuery,apex.env);
!function(n,e,t,i,o){"use strict";const a="APEX_BUILDER",s=".a-Region--hideShow";e.getAppUnderTestWindowName=function(n){let e="APEX_AUT_";return"Y"===$v("P0_WINDOW_MGMT_SHARE_WINDOW")||(e+=n),e},e.launchAppUnderTest=function(n,t,o){let a="",s=apex.navigation.openInNewWindow("",e.getAppUnderTestWindowName(t),o);return s&&s.$v&&(a=s.$v("pdebug")||""),"BRANCH_TO_PAGE_ACCEPT"===(n=n.split(":"))[3]?(n[6]=n[6]+",P1000_DEBUG",n[7]=n[7]+","+a):n[4]=a,n=n.join(":"),i.openInNewWindow(n,e.getAppUnderTestWindowName(t),o)},e.nameBuilderWindow=function(){window.name&&0!==window.name.indexOf(a)||(window.name="APEX_BUILDER_"+apex.env.APP_SESSION)},e.initWizardModal=function(){const e=".a-Dialog-body",t=".a-Dialog-wizardSteps",i=".a-Dialog-footer";let a=function(){let o=n(t).height(),a=n(i).height();n(e).css({top:o,bottom:a})};n(window).on("apexwindowresized",(function(){a()})),a(),o.modalAutoSize({observeClass:e,sections:[e,t,i]})},e.initStickyHeader=function(e){const t=n("#"+e);if(t[0]){const e=t.outerHeight(),i=t.parent(),o=t.offset().top;n(window).scroll((function(){n(window).scrollTop()>o?(t.addClass("is-fixed"),i.css("margin-top",e)):(t.removeClass("is-fixed"),i.css("margin-top","0"))}))}},e.initWizardProgressBar=function(){o.initWizardProgressBar("a-WizardSteps")},n((function(){function t(){i.openInNewWindow(this.href,"_blank",{favorTabbedBrowsing:!0})}10===document.documentMode&&(document.documentElement.className+=" ie10"),n(".a-Header-tabsContainer").menu({menubar:!0,behaveLikeTabs:!0}).show(),function(e){let t,i,o,a,s=n("#"+e);if(s.length)for(o=s.children("ul").children("li"),a=s.menu("option").items,t=0;t<a.length;t++)i=a[t].id,i&&o.eq(t).addClass(i)}("a_Header_menu"),n("#helpMenu_menu").on("menucreate",(function(){const e=this;n.each(["helpLinkNewWindow","helpLinkForum","helpLinkOTN","helpLinkDocLib"],(function(i,o){const a=n(e).menu("find",o);a&&(a.action=t)}))})),n(s).each((function(){n(this).collapsible({content:n(this).find(".a-Region-body").first()})})),n("body").on("click","button.launch-aut",(function(){const t=n(this).attr("data-link"),o=function(n){let e,t,i,o,a=null;if(e=n.indexOf("?p="),e>=0)if(t=n.substring(e+3).split(":"),t.length>=8&&"BRANCH_TO_PAGE_ACCEPT"===t[3]){for(i=t[6].split(","),o=t[7].split(","),e=0;e<i.length&&e<o.length;e++)if("FB_FLOW_ID"===i[e]){a=o[e];break}}else a=t[0];return a}(t),a={},s=$v("P0_WINDOW_MGMT_MODE")||"FOCUS";o&&("NONE"===s||/^4\d\d\d$/.test(o)?i.redirect(t):("BROWSER"===s&&(a.favorTabbedBrowsing=!0),e.launchAppUnderTest(t,o,a)))})),n("button.launch-aut").each((function(){let e,t=n(this),i=t.attr("data-link");i||(e=/['"]((ws|f)\?p=.*)['"]/.exec(t.attr("onclick")),e&&e.length>1&&(i=e[1],t.removeAttr("onclick"),t.attr("data-link",i)))})),n("#accountMenu_menu").menu({customContent:!0,tabBehavior:"NEXT"}),n(document.body).on("dialogopen dialogresizestop",".a-DialogRegion",(function(){!function(n){const e=n.find(".a-DialogRegion-buttons").height();n.find(".a-DialogRegion-body").css("bottom",e)}(n(this))}))}))}(apex.jQuery,apex.builder,apex.util,apex.navigation,apex.theme);
apex.jQuery((function(){"use strict";!function(e,t,a,i,n,s,r,o){const p={none:"none",region:"region",option:"option",listbox:"listbox"},l=t.hasOwnProperty;var c,u=o.APP_SESSION,d=$v("F4000_P1_FLOW")||$v("P4500_CURRENT_APP"),h=e(M+W).length>0,g="",f=o.APP_ID,S=[],m=[],v=[],C="",E=!1,I=!1,y=o.APEX_FILES+"apex_ui/js/staticData/apex_search_common_en.json",_=o.APEX_FILES+"apex_ui/js/staticData/apex_search_common_"+apex.locale.getLanguage()+".json",x=[20,49,56,57,73,76,78,160,163,196,224,226,227,273,279,433,441,460,479,494,495,514,516,523,527,559,588,589,598,650,680,689,722,733,800,875,876,933,934,1500,2100,2101,2102,2103,2104,2105,2106,2107,2108,2109,2111,2115,2116,2117,2150,2151,2152,2153,2154,2155,2157,3e3,3001,3005,3020,4460,4900];if(window.self!==window.top||"4050"===f)return!1;"undefined"!=typeof pe&&(c=pe);var A,b="redirect",P="search-page",R="search-app",O="search-all-apps",w="goto-page",L="goto-app",T="pe",D="shortcutAction",k="icon-edit-app",F="icon-page",N="icon-search",H="icon-shared-components",B="icon-goto-group",G="icon-page-designer",M=".",W="a-Spotlight",U="a-Spotlight-input",j="a-Spotlight-results",z="is-active",X="a-Spotlight-shortcut",Y="spotlight-search",$="sp-result-list",J=e.ui.keyCode,Q={4e3:"builder",4500:"builder",4800:"teamdev",4350:"admin"}[f];d.length<=0&&(A=window.location.search.substring(1).replace("p=","").split(":"),d="4000"!==A[0]||x.includes(parseInt(A[1],10))?"":apex.builder.gApplicationId);var K,V=i.formatMessage,q=i.getMessage("SL.APP"),Z=i.getMessage("SL.PAGE"),ee=i.getMessage("SL.PLACEHOLDER"),te=(i.getMessage("SL.MATCH.FOUND"),i.getMessage("SL.NO.MATCH.FOUND"),i.getMessage("SL.SEARCH.HELP"),function(e){var t,a,i=e.title,n=e.path||"",s=e.url,r=e.type,o=e.icon,c=e.shortcut,u=c?'<span class="'+X+'" >'+c+"</span>":"",h="",g=e.peData;if((0===s||s&&s.length>0)&&(h='data-url="'+s+'" '),r&&(h=h+' data-type="'+r+'" '),g)for(t in g)l(g,t)&&(h=h+" data-"+t+'="'+g[t]+'" ');a=r===L&&e.initials.trim().length>0?'<span class="'+o+'" style="color: #fff; box-shadow: 0 0 0 1px #fff;webkit-box-shadow: 0 0 0 1px #fff;position: relative;z-index: 1;margin-right: 16px;padding: 8px;width: 32px;height: 32px;border-radius: 2px;" aria-hidden="true"><span class="a-Icon">'+e.initials+"</span></span>":e.hasCustomIcon?o:'<span class="a-Spotlight-icon" aria-hidden="true"><span class="a-Icon '+o+'"></span></span>';let f=i;f=f.replace(/^(<span).*("+>)/gm,""),f=f.replace("</span>"," â€”");let S=n.replace("{APP_ID}",d);return S=S.replace("&#92;","&#8212;"),i+=e.alias&&e.alias.trim().length>0?' <span class="a-Spotlight-labelContext">'+e.alias.toLowerCase()+"</span>":"",'<li role="'+p.option+'" class="a-Spotlight-result a-Spotlight-result--page" aria-label="Go to '+f+", "+S+", "+(c||"")+' "><span class="a-Spotlight-link" '+h+">"+a+'<span class="a-Spotlight-info"><span class="a-Spotlight-label" aria-hidden="true">'+i+'</span><span class="a-Spotlight-desc" aria-hidden="true">'+n.replace("{APP_ID}",d)+"</span></span>"+u+"</span></li>"}),ae=function(t,i){var r,o=t.data("url");switch(t.data("type")){case T:s.goToComponent(t.data("typeid"),t.data("componentid"),t.data("propertyid"));break;case P:s.activateTab("search"),e("#P4500_LOCAL_SEARCH").val(g).trigger("change").focus();break;case R:a.popup({url:"f?p=4000:8000:"+u+"::::P8000_START_SEARCH,P8000_SEARCH:1,"+encodeURIComponent(g),name:"SEARCH_RESULTS",width:1e3,height:800});break;case O:a.popup({url:"f?p=4000:8000:"+u+"::::FB_FLOW_ID,FB_FLOW_PAGE_ID,P8000_START_SEARCH,P8000_SEARCH:,,1,"+encodeURIComponent(g),name:"SEARCH_RESULTS",width:1e3,height:800});break;case L:a.redirect("f?p=4000:1:"+u+"::NO::FB_FLOW_ID,F4000_P1_FLOW,P0_FLOWPAGE:"+o+","+o+","+o);break;case w:s&&!E?s.goToPage(o):E?a.redirect("f?p=4000:4500:"+u+"::NO::FB_FLOW_ID,FB_FLOW_PAGE_ID:"+C+","+o):a.redirect("f?p=4000:4500:"+u+"::NO::FB_FLOW_PAGE_ID:"+o);break;case b:a.redirect(function(e){return isNaN(e.split(":")[0])?e:"f?p="+e+":"+u}(o));break;case D:(r=n.lookup(o)).action||r.href?n.invoke(o,i,K):n.toggle(o)}ce()},ie=function(){e("#"+$).empty(),e(M+U).val("").focus(),g="",ne(),I&&(I=!1,E=!1,C="")},ne=function(){var t=e(M+j),a=e(M+U),i=t.find(M+z).attr("id"),n=e("#"+i),s=0!==t.find("li").length;e("li.a-Spotlight-result").attr("aria-selected","false"),n.attr("aria-selected","true"),a.attr("aria-activedescendant",i).attr("aria-expanded",s),e("#"+$).attr("aria-activedescendant",i)},se=function(){var t,a,i,n,s=function(){var s=e("div.a-Spotlight-results");t=s.outerHeight(),a=e("li.a-Spotlight-result").outerHeight(),i=s.offset().top,n=t/a},r=function(e){var i=e.find(M+z),r=i.index();n||s(),!i.length||i.is(":last-child")?(i.removeClass(z),e.find("li").first().addClass(z),e.animate({scrollTop:0})):function(e){if(e[0]){var a=e.offset().top;return a<0||a>t}}(i.removeClass(z).next().addClass(z))&&e.animate({scrollTop:(r-n+2)*a},0)},o=function(e){var r=e.find(M+z),o=r.index();n||s(),!e.length||r.is(":first-child")?(r.removeClass(z),e.find("li").last().addClass(z),e.animate({scrollTop:e.find("li").length*a})):function(e){if(e[0]){var a=e.offset().top;return a>t||a<=i}}(r.removeClass(z).prev().addClass(z))&&e.animate({scrollTop:(o-1)*a},0)};e(window).on("apexwindowresized",(function(){s()})),e("body").append('<div class="'+W+'"><div class="a-Spotlight-body"><div class="a-Spotlight-search"><div class="a-Spotlight-icon"><span class="a-Icon icon-search" aria-hidden="true"></span></div><div class="a-Spotlight-field"><input type="text" role="combobox" aria-expanded="false" aria-autocomplete="none" aria-haspopup="true" aria-label="Spotlight Search" aria-owns="'+$+'" autocomplete="off" autocorrect="off" spellcheck="false" class="'+U+'" placeholder="'+ee+'"></div></div><div class="'+j+'"><ul class="a-Spotlight-resultsList" id="'+$+'" tabindex="-1" role="'+p.listbox+'" aria-labelledby="sp-aria-match-found" aria-activedescendant=""></ul></div></div></div>').on("input",M+U,(function(){var t=e(this).val().trim(),a=t.length;0===a?ie():(a>1||!isNaN(t))&&t!==g&&he(t)})).on("keydown",M+W,(function(t){var a,i,n=e(M+j);switch(t.which){case J.DOWN:t.preventDefault(),r(n);break;case J.UP:t.preventDefault(),o(n);break;case J.ENTER:t.preventDefault(),ae(n.find("li.is-active span"),t);break;case J.TAB:ce()}if(t.ctrlKey){switch(a=n.find(M+X).parent().get().reverse(),t.which){case 49:i=1;break;case 50:i=2;break;case 51:i=3;break;case 52:i=4}i&&ae(e(a[i-1]),t)}t.shiftKey&&t.which===J.TAB&&ce(),ne()})).on("click","span.a-Spotlight-link",(function(t){ae(e(this),t)})).on("mousemove","li.a-Spotlight-result",(function(){var t=e(this);t.parent().find(M+z).removeClass(z),t.addClass(z),ne()})).on("blur",M+W,(function(){e(M+W).dialog("isOpen")&&e(M+U).focus()})),e(M+W).on("keydown",(function(t){var a=e(M+U);t.which===J.ESCAPE&&(a.val()?(ie(),t.stopPropagation()):ce())})),h=!0},re=function(e){C=e,apex.server.process("spotlightIndex",{x01:e,x02:"N"},{success:function(e){v=e},error:function(e){r.warn(JSON.parse(e.responseText))}})},oe=function(e){var t,a,i,s,r,o="";for(S=e,t=n.list(),r=0;r<t.length;r++)(s=(i=t[r]).name)!==Y&&((a=n.lookup(s))&&(o=n.shortcutDisplay(a.shortcut||"")),S.push({name:i.label,description:o,path:o,shortcutAction:s,priority:0,type:D}))},le=function(t){var i=function(){var t=e(M+W),i=window.scrollY||window.pageYOffset;t.hasClass("ui-dialog-content")&&t.dialog("isOpen")||t.dialog({width:650,resizable:!1,height:"auto",modal:!0,position:{my:"center top",at:"center top+"+(i+64),of:e("body")},dialogClass:"ui-dialog--apexspotlight",open:function(){e(this).css("min-height","auto").prev(".ui-dialog-titlebar").remove(),a.beginFreezeScroll(),e(".ui-widget-overlay").on("click",(function(){ce()}))},close:function(){a.endFreezeScroll()}})};h?(i(),d!==C&&re(d)):(se(),i(),S&&S.length>0||e.ajax({dataType:"json",type:"GET",url:_,success:function(e){oe(e)},error:function(t){404===t.status&&e.ajax({dataType:"json",type:"GET",url:y,success:function(e){oe(e)},error:function(e){r.warn(JSON.parse(e.responseText))}})}}),m&&m.length>0||apex.server.process("spotlightIndex",{x01:null,x02:"Y"},{success:function(e){m=e},error:function(e){r.warn(JSON.parse(e.responseText))}}),d&&d.length>0&&re(d)),K=t},ce=function(){e(M+W).dialog("close")},ue=function(t){var a,i,n=[],s=!1,r=t.length,o=[],p=!!(d&&d.length>0||E||e(".a-Breadcrumb-item a[href^='f?p=4000:1:']").length>0),h=function(e,t,a,i){var n,s=100,r=t-1;return 0===e&&0===r||(-1===(n=a.indexOf(g))?s=s-e-r-t:s-=n),s-i};for(i=0;i<t.length;i++)a=t[i],n=(o=[],o=p?o.concat(v).concat(m).concat(S):o.concat(m).concat(S),s?n:o).filter((function(e){var t=e.name.toLowerCase(),i=t.split(" ").map((function(e){return e[0]})).join(""),n=t.split(" ").length,s=t.search(a),o=0;if(r>n)return!1;if(p&&e.scope&&"app"!==e.scope&&(o=80),s>-1)return e.score=h(s,n,t,o),!0;if(e.tokens){if(e.tokens.search(a)>-1)return e.score=80,!0}else{if(i.search(a)>-1)return e.score=80,!0;if(e.appId){if(e.appId.search(a)>-1)return e.score=h(s,n,e.appId,o),!0}else if(e.pageId){if(e.pageId.search(a)>-1)return o=(o=Math.abs(e.pageId.length-a.toString().replace("/","").replace("/gi","").length))>0?o+10:o,e.score=h(s,n,e.pageId,o),!0}else if(e.alias&&e.alias.toLowerCase().search(a)>-1)return e.score=80,!0}})).sort((function(e,t){return t.score-e.score})),s=!0;return function(e){var t,a,i,n,s,r,o,c="",h={},g="",f=!1,S="",m={},v="";for(e.sort((function(e,t){return parseInt(t.priority,10)-parseInt(e.priority,10)})),e.length>100&&(e.length=100),t=0;t<e.length;t++)if(a=e[t],p||!a.scope||"app"!==a.scope){if(o=a.shortcut,f=!1,S="",a.appId)n=L,g=a.appId,i="App "+a.appId,r="App "+a.appId,a.appBuilderIconName&&a.appBuilderIconName.trim().length>0?(s='<span class="a-Spotlight-icon">'+a.appBuilderIconName+"</span>",f=!0):a.imageClass&&a.imageClass.trim().length>0?(s='<span class="a-Spotlight-icon '+a.imageClass+'" aria-hidden="true"></span>',f=!0):a.appColor&&a.appColor.trim().length>0&&a.appInitials.trim().length>0?(s=a.appColor,S=a.appInitials):s=k;else if(0===a.pageId||a.pageId){if(n=w,g=a.pageId,!((v=a.parentAppId?a.parentAppId:d)&&v.length>0))continue;i=" Go to "+g+" from application ID "+v,r=q+" "+v+" &#92; "+Z+" "+g,s=F}else{if(n=a.type||b,g=a.url||a.shortcutAction,i=a.description,r="",a.path)if("string"==typeof a.path)r=a.path;else{var I=0;for(var y in a.path)l(a.path,y)&&(r+=a.path[y]+" \\ ",I+=1);I>=1&&(I-=1),a.scope&&"action"!==a.scope&&a.name!==a.path.last?a.label='<span class="a-Spotlight-labelContext">'+a.path.last+"</span> "+a.name:a.scope&&"action"===a.scope&&(a.label='<span class="a-Spotlight-labelContext">'+a.path.last+"</span> "+a.description,r="");var _=r.split("\\");r=(_=_.slice(0,I)).join("\\")}s=a.icon||B}if(g&&g.length>0){if(g.indexOf("&DEBUG.")>0){var x="::::";E&&(x="::FB_FLOW_ID:"+C),g=g.substring(0,g.indexOf("&DEBUG.")+"&DEBUG.".length).concat(x)}g=g.replace("%SESSION%",u).replace("&DEBUG.","NO").replace("&APP_SESSION.",u)}m={title:a.label?a.label:a.name,desc:i,url:g,icon:s,hasCustomIcon:f,type:n,path:r,score:a.score,alias:a.alias,initials:S,priority:a.priority},o&&(m.shortcut=o);var A=0;a.score?(A=de(h,a.score-t),h[A]=te(m)):(A=de(h,-1e3*t),h[A]=te(m))}return Object.keys(h).sort((function(e,t){return t-e})).forEach((function(e){c+=h[e]})),c}(function(t){var a,i=encodeURIComponent(g),n=g,s=/^(\d+)(?::|-)\s*(s|sc|sh)$/;switch(s.test(g.toLowerCase())&&(a=g.toLowerCase().match(s),t.unshift({name:V("SL.SHARED.COMP.APP",a[1]),url:"f?p=4000:9:"+u+"::NO::FB_FLOW_ID:"+a[1],icon:H,description:V("APEX.SEARCH.GO_TO_SHARED_COMPONENTS"),path:V("APEX.SEARCH.GO_TO_SHARED_COMPONENTS"),score:1e3,priority:100,type:b})),Q){case"builder":(d||c||e(".a-Breadcrumb-item a[href^='f?p=4000:1:']").length>0)&&(c&&t.push({name:V("SL.SEARCH.PAGE",n),type:P,icon:N,priority:0,shortcut:"Ctrl + 4"}),t.push({name:V("SL.SEARCH.APP",n),type:R,icon:N,priority:0,shortcut:"Ctrl + 3"}));break;case"teamdev":t.push({name:V("SL.SEARCH.TEAM.DEV",n),url:"f?p=4800:8000:"+u+":::RIR:IR_ROWFILTER:"+i,icon:N,priority:0,type:b});break;case"admin":t.push({name:V("SL.SEARCH.USER",n),url:"f?p=4350:8000:"+u+":::RIR:IR_ROWFILTER:"+i,icon:"icon-user",priority:0,type:b})}return t.push({name:V("SL.SEARCH.ALLAPPS",n),type:O,icon:N,priority:0,shortcut:"Ctrl + 2"}),t.push({name:V("SL.SEARCH.WP",n),url:"f?p=4500:8000:"+u+":::RIR:IR_ROWFILTER:"+i,icon:N,type:b,priority:0,shortcut:"Ctrl + 1"}),t}(n))},de=function(e,t){return l(e,t)&&(t=de(e,t-1)),t},he=function(a){var i,n,s,r,o=(g=a.trim()).split(" "),p=[],l="",u=new RegExp("^[0-9]+\\s*[:-]\\s*$","gi"),h=new RegExp("^[0-9]+\\s*[:-](\\s*\\S|\\s*\\d+)","gi"),f=!0;for(u.test(g)?(f=!1,I=!0,(r=g.split(/[:-]/))[0].trim().length>0&&(s=r[0],C!==s&&re(s))):h.test(g)?(f=!0,I=!0,E=!0,(r=g.split(/[:-]/))[1].trim().length>0&&(s=r[0],o=r[1].trim().split(" "))):(f=!0,I&&d!==C&&re(d)),n=0;n<o.length;n++)p.push(new RegExp(t.escapeRegExp(o[n]),"gi"));f||(p=[],g=C),i=ue(p),c&&c.getCurrentPageId()&&!E&&(l=function(a,i){var n,s,r,o,p,l,u="",d=function(e){return c.getComponentType(e)},h=function(t,a){var i,n,s,r=d(a);if(i=c.displayTitleSearch(t,a),r)for(s=r.childComponentTypes.length,n=0;n<s;n++)i=e.merge(h(t,r.childComponentTypes[n]),i);return i};for((n=h(a,i)).length>50&&(n.length=50),p=0,l=n.length;p<l;p++)r=(s=n[p]).typeId,o=d(r),u+=te({title:t.escapeHTML(o.title.singular)+" &rarr; "+t.escapeHTML(s.getDisplayTitle()),icon:G,type:T,peData:{typeid:r,componentid:s.id,propertyid:o.displayPropertyId}});return u}(p[0],c.COMP_TYPE.PAGE)),e("#"+$).html(l+i).find("li").each((function(t){e(this).attr("id","sp-result-"+t)})).first().addClass(z)};e("#header-spotlightSearch").attr("data-no-update",!0),n.add({name:Y,label:null,title:null,shortcut:"Ctrl+Quote",action:function(e,t){return le(t),!0}})}(apex.jQuery,apex.util,apex.navigation,apex.lang,apex.actions,window.pageDesigner,apex.debug,apex.env)}));